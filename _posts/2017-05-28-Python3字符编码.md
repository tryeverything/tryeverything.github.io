---
layout: post
title: "Python3下字符编码" 
date: 2017-5-28
---
本来打算用python处理csv文件，然后将结果显示在网页上。结果上来就卡死在字符编码上。win下python环境，print正常。但在家里的电脑上安装python后，pip无法安装其他模块，遂在VM下用ubuntu搭建环境。环境搭建好了，悲催的发现卡在字符编码上了。在win下正常的csv文件，到了Linux下，cat显示全是乱码，python甚至报错。然而结局却是峰回路转……

将本次折腾的过程记载如下。

`python testing`

可以用python自带的locale模块来检测当前命令行的默认编码
{% highlight python linenos %}
import locale
#get
locale.getdefaultlocale()
#('zh_CN','cp936')
{% endhighlight %}

在树莓派中执行该命令返回为en_GB。而在VM的Ubuntu中却返回en_US。两者虽然都是英语，只不过en_GB一般指英国英语，而en_特指美国英语。



